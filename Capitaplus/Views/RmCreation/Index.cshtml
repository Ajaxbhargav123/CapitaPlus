@model Capitaplus.ViewModel.RMCreationWithCodeVM
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .lbl {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-weight: bold;
    }
</style>
<h2>Raw Material Creations</h2>
<hr />
@using (@Html.BeginForm("CreateRM", "RmCreation"))
{
    <div class="form-group">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="form-group">
                       <lable class="lbl">Material Name</lable>
                        @Html.TextBoxFor(x => x.rmCreation.MaterialName, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.rmCreation.MaterialName)
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <lable class="lbl">Material Group</lable>
                        @Html.TextBoxFor(x => x.rmCreation.MaterialGroup, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.rmCreation.MaterialGroup)
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <lable class="lbl">UOM 1</lable>
                        @Html.TextBoxFor(x => x.rmCreation.UOM_1, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.rmCreation.UOM_1)
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <lable class="lbl">UOM 2</lable>
                        @Html.TextBoxFor(x => x.rmCreation.UOM_2, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.rmCreation.UOM_2)
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-3">
                    <div class="form-group">
                        @Html.LabelFor(x => x.rmCreation.QUOM, new { @class = "lbl" })
                        @Html.TextBoxFor(x => x.rmCreation.QUOM, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.rmCreation.QUOM)
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        @Html.LabelFor(x => x.rmCreation.Rate, new { @class = "lbl" })
                        @Html.TextBoxFor(x => x.rmCreation.Rate, new { @class = "form-control",type="number" })
                        @Html.ValidationMessageFor(x => x.rmCreation.Rate)
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <lable class="lbl">Select Status</lable>
                        @Html.DropDownListFor(x => x.isYesNo.Type, new SelectList(Model.isYesNos, "Id", "Type"), "Select IsMax", new { @class = "form-control",id="status" })
                        @Html.ValidationMessageFor(x => x.isYesNo.Id)
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        @Html.LabelFor(x => x.rmCreation.Min, new { @class = "lbl" })
                        @Html.TextBoxFor(x => x.rmCreation.Min, new { @class = "form-control", id = "min",type="number"  })
                        @Html.ValidationMessageFor(x => x.rmCreation.Min)
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-3">
                    <div class="form-group">
                        @Html.LabelFor(x => x.rmCreation.Max, new { @class = "lbl" })
                        @Html.TextBoxFor(x => x.rmCreation.Max, new { @class = "form-control", id = "max",type="number" })
                        @Html.ValidationMessageFor(x => x.rmCreation.Max)
                    </div>
                   
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        @Html.LabelFor(x => x.rmCreation.Type, new { @class = "lbl" })
                        @Html.TextBoxFor(x => x.rmCreation.Type, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.rmCreation.Type)
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        @Html.LabelFor(x => x.rmCreation.Capacity_AMH, new { @class = "lbl" })
                        @Html.TextBoxFor(x => x.rmCreation.Capacity_AMH, new { @class = "form-control",type="number" })
                        @Html.ValidationMessageFor(x => x.rmCreation.Capacity_AMH)
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        @Html.LabelFor(x => x.rmCreation.Color, new { @class = "lbl" })
                        @Html.TextBoxFor(x => x.rmCreation.Color, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.rmCreation.Color)
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-3">
                    <div class="form-group">
                        @Html.LabelFor(x => x.rmCreation.Model, new { @class = "lbl" })
                        @Html.TextBoxFor(x => x.rmCreation.Model, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.rmCreation.Model)
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label class="lbl">Sac Code</label>
                        @Html.TextBoxFor(x => x.rmCreation.SAC_CODE, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.rmCreation.Model)
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label class="lbl">Stock</label>
                        @Html.TextBoxFor(x => x.rmCreation.Stock, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.rmCreation.Stock)
                    </div>
                </div>
                <div class="col-lg-3">
                    @Html.HiddenFor(x => x.rmCreation.Id)
                    @Html.AntiForgeryToken()
                    <button type="submit" style="margin-top:29px;" class="btn btn-sm btn-block btn-primary">Save</button>

                </div>
            </div> 
          </div>
        </div>
}
@section scripts{
    @Scripts.Render("~/bundles/jqueryval")
 <script>
     $(document).ready(function () {
         
           //max key up
            $(document).on('focusout', '#max', function () {
                let maxVal = parseInt($(this).val());
                let minVal = parseInt($('#min').val());
                if (minVal > maxVal) { 
                    alert("Value Should not be less than Min Value");
                    $(this).val('');
                    $('#max').focus();
                    return;
                }
            })

         //Status Change
         $('#status').on('change', function () {
             var status = $('#status :selected').text();
            
             if (status == "Yes") {
                  $('#max').attr('disabled', false);
                 $('#min').attr('disabled', false);
                
             }
             if (status == "No") {
                 $('#max').attr('disabled', true);
                 $('#min').attr('disabled', true);
             }
         })
        
     })
    </script>
}
